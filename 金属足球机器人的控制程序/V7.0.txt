#include <header.h>

unsigned char MX_safety;//åˆ›å»ºå˜é‡ï¼Œç”¨äºå®‰å…¨é˜²èŒƒã?‚å½“æ²¡æœ‰æ£?æµ‹åˆ°æ‰‹æŸ„åˆ™å˜é‡ç´¯åŠ ï¼Œæ£?æµ‹åˆ°æ‰‹æŸ„åˆ™å˜é‡æ¸…é›¶ã?‚å½“å˜é‡ç´¯åŠ åˆ?20åˆ™è¯´æ˜è¿ç»?20æ¬¡æ²¡æœ‰æ£€æµ‹åˆ°æ‰‹æŸ„ï¼Œåˆ™åœæ­¢æ‰?æœ‰ç”µæœºã??

void setup()
{
  MX_Init();
  MX_teamFlag();
}

void loop() {
  MX_screenBatteryV();
  MX_runUSB();
  if (MX_gamepadConnected())
  {
    MX_safety = 0; 
    if (MX_gamepadPress(B)) {
      MX_motorControl(left1, 10, MX_gamepadLeftY * -0.5 + MX_gamepadLeftX * -0.3* 0.5, 0); 
      MX_motorControl(left2, 10, MX_gamepadLeftY * -0.5 + MX_gamepadLeftX * -0.3* 0.5, 0); 
      MX_motorControl(right1, 10, MX_gamepadLeftY * 0.5 + MX_gamepadLeftX * -0.3* 0.5, 0); 
      MX_motorControl(right2, 10, MX_gamepadLeftY * 0.5 + MX_gamepadLeftX * -0.3* 0.5, 0); 
    }
    else {
      process();
    }
  }
  else
  {
    MX_safety++;
  }
  if (MX_safety == 20)
  {
    MX_motorControl(1, 22, 0, 0); MX_motorControl(2, 22, 0, 0); MX_motorControl(8, 22, 0, 0); MX_motorControl(7, 22, 0, 0);
    MX_safety = 0;
  }
if (MX_gamepadClick(A)){
      processWithCode(0);
    }
}